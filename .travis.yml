dist: trusty
language: go
go: '1.12.x'
addons:
  apt:
    packages:
    - rpm
env:
  - GO111MODULE=on
script:
  - go test -v ./pkg/...
  - test -n "$TRAVIS_TAG" || curl -sL https://git.io/goreleaser | bash -s -- --snapshot --debug --rm-dist
deploy:
  - provider: script
    skip_cleanup: true
    script: curl -sL https://git.io/goreleaser | bash
    on:
      tags: true
notifications:
  email: false
